@using LibreriaV6.Modelo

@{
    ViewBag.Title = "Consultar";
}

<div class="container-fluid">
    <div class="container" id="divLibro">
        <div id="totallibro" class="mt-3 text-center"> <span class="text-center" style="font-size:30px"> Total de libro: @Model[0].Count </span> </div>

        <div class="modal-body row justify-content-center" id="modal-champions-body">
            @foreach (TLibro libro in Model[0]) {
                <div id="@libro.CodLibro" class="p-2">
                    <div><img alt="Portada" src="@libro.Imagen" width="200" height="200"></div>
                    <div class="text-center">@Html.ActionLink(libro.Titulo, "verLibro", "Libro", new { CodLibro = libro.CodLibro }, new { @class = "text-dark" })</div>
                    @{ if (Session["usuario"] != null && ((TUsuario)Session["usuario"]).Rol.Equals("admin")) {
                            <div class="ml-2"><i class="fas fa-edit"></i> @Html.ActionLink("Editar", "modificarLibro", "Libro", new { CodLibro = libro.CodLibro }, null)</div>
                            <div class="ml-2">
                                <i class="fas fa-trash-alt"></i>
                                @Ajax.ActionLink("Borrar", "borrarLibro", "Libro", new { CodLibro = libro.CodLibro }, new AjaxOptions() {
                                    HttpMethod = "GET",
                                    InsertionMode = InsertionMode.Replace,
                                    UpdateTargetId = "totallibro",
                                }, new { id = libro.CodLibro, onclick = "borrar(id);" })
                            </div>
                        }
                    }
                </div>
            }
        </div>
    </div>
</div>


<script src="~/Content/js/Consultar.js"></script>